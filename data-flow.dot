digraph tmvs {
  rankdir = LR

  subgraph cluster_tmvs {
    label = "Temperature and Moisture Visualization System"

    node [shape = box]
    matrix [label = "Matrix (Memory)"]
    function [label = "Function (Memory)"]
    plot [label = "Plot (Memory)"]
    cache [label = "Cache File (Disk)"]

    node [shape = oval]
    parse [label = "Parse"]
    interpolate [label = "Interpolate"]
    discretize [label = "Discretize"]
    visualize [label = "Visualize"]
    clear [label = "Clear"]
    read [label = "Read"]
    store [label = "Store"]
    recall [label = "Recall"]
    purge [label = "Purge"]
  }

  node [shape = box]
  null [label = "Null Device"]
  xls [label = "Excel File (Disk)"]
  csv [label = "Comma-Separated Value File (Disk)"]

  node [shape = oval]
  gnumeric [label = "Gnumeric"]

  xls -> gnumeric -> csv
  csv -> parse -> matrix
  matrix -> interpolate -> function
  function -> discretize -> matrix
  matrix -> visualize -> plot
  null -> clear
  clear -> matrix
  clear -> function
  csv -> read -> matrix
  cache -> read -> cache
  matrix -> store -> cache
  cache -> recall -> matrix
  null -> purge -> cache
}
