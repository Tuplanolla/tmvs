digraph {
  subgraph cluster_cace {
    label = "Operating System"

    node [shape = box]
    null [label = "Null Device"]
    xls [label = "Excel File"]
    csv [label = "Value File"]

    node [shape = oval]
    gnumeric [label = "Gnumeric"]

    subgraph cluster_tmvs {
      label = "Temperature and Moisture Visualization System"

      subgraph cluster_ws {
        label = "Working Set"

        node [shape = box]
        array [label = "Array"]
        function [label = "Function"]
        plot [label = "Plot"]

        node [shape = oval]
        parse [label = "Parse"]
        interpolate [label = "Interpolate"]
        discretize [label = "Discretize"]
        merge [label = "Merge"]
        visualize [label = "Visualize"]
        clear [label = "Clear"]
      }

      subgraph cluster_cache {
        label = "Cache"

        node [shape = box]
        cache [label = "Cache File"]

        node [shape = oval]
        store [label = "Store"]
        recall [label = "Recall"]
        fetch [label = "Fetch"]
        purge [label = "Purge"]
      }
    }
  }

  xls -> gnumeric -> csv
  csv -> parse -> array
  array -> interpolate -> function
  function -> discretize -> array
  array -> merge -> array
  array -> visualize -> plot
  null -> clear
  clear -> array
  clear -> function
  array -> store -> cache
  cache -> recall -> array
  csv -> fetch -> array
  cache -> fetch -> cache
  null -> purge -> cache

  csv -> null [style = invis]
}
